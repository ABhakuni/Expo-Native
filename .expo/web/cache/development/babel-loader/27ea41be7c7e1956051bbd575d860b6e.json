{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeExperimentalNavigation = _interopRequireDefault(require(\"react-native-experimental-navigation\"));\n\nvar _TabBar = _interopRequireDefault(require(\"./TabBar\"));\n\nvar _NavBar = _interopRequireDefault(require(\"./NavBar\"));\n\nvar _Actions = _interopRequireDefault(require(\"./Actions\"));\n\nvar _Util = require(\"./Util\");\n\nvar _jsxFileName = \"/Users/apple/Documents/janitri/sampleapp/node_modules/react-native-router-flux/src/DefaultRenderer.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { return function () { var Super = (0, _getPrototypeOf2.default)(Derived), result; if (_isNativeReflectConstruct()) { var NewTarget = (0, _getPrototypeOf2.default)(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2.default)(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar SCREEN_WIDTH = _reactNative.Dimensions.get('window').width;\n\nvar SCREEN_HEIGHT = _reactNative.Dimensions.get('window').height;\n\nvar NavigationAnimatedView = _reactNativeExperimentalNavigation.default.AnimatedView,\n    NavigationCard = _reactNativeExperimentalNavigation.default.Card;\nvar NavigationCardStackPanResponder = NavigationCard.CardStackPanResponder,\n    NavigationCardStackStyleInterpolator = NavigationCard.CardStackStyleInterpolator;\n\nvar styles = _reactNative.StyleSheet.create({\n  animatedView: {\n    flex: 1,\n    backgroundColor: 'transparent'\n  },\n  sceneStyle: {\n    flex: 1\n  }\n});\n\nfunction fadeInScene(props) {\n  var position = props.position,\n      scene = props.scene;\n  var index = scene.index;\n  var inputRange = [index - 1, index, index + 1];\n  var opacity = position.interpolate({\n    inputRange: inputRange,\n    outputRange: [0, 1, 0.3]\n  });\n  var scale = position.interpolate({\n    inputRange: inputRange,\n    outputRange: [1, 1, 0.95]\n  });\n  var translateY = 0;\n  var translateX = 0;\n  return {\n    opacity: opacity,\n    transform: [{\n      scale: scale\n    }, {\n      translateX: translateX\n    }, {\n      translateY: translateY\n    }]\n  };\n}\n\nfunction leftToRight(props) {\n  var position = props.position,\n      scene = props.scene;\n  var index = scene.index;\n  var inputRange = [index - 1, index, index + 1];\n  var translateX = position.interpolate({\n    inputRange: inputRange,\n    outputRange: [-SCREEN_WIDTH, 0, 0]\n  });\n  return {\n    transform: [{\n      translateX: translateX\n    }]\n  };\n}\n\nfunction topToBottom(props) {\n  var position = props.position,\n      scene = props.scene;\n  var index = scene.index;\n  var inputRange = [index - 1, index, index + 1];\n  var translateY = position.interpolate({\n    inputRange: inputRange,\n    outputRange: [-SCREEN_HEIGHT * 3, 0, 0]\n  });\n  return {\n    transform: [{\n      translateY: translateY\n    }]\n  };\n}\n\nvar DefaultRenderer = function (_PureComponent) {\n  (0, _inherits2.default)(DefaultRenderer, _PureComponent);\n\n  var _super = _createSuper(DefaultRenderer);\n\n  function DefaultRenderer() {\n    (0, _classCallCheck2.default)(this, DefaultRenderer);\n    return _super.apply(this, arguments);\n  }\n\n  (0, _createClass2.default)(DefaultRenderer, [{\n    key: \"getChildContext\",\n    value: function getChildContext() {\n      return {\n        navigationState: this.props.navigationState\n      };\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      DefaultRenderer.dispatchFocusAction(this.props);\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      if (nextProps.navigationState !== this.props.navigationState) {\n        DefaultRenderer.dispatchFocusAction(nextProps);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          navigationState = _this$props.navigationState,\n          onNavigate = _this$props.onNavigate;\n\n      if (!navigationState || !onNavigate) {\n        console.error('navigationState and onNavigate property should be not null');\n        return null;\n      }\n\n      var SceneComponent = navigationState.component;\n\n      if (navigationState.tabs && !SceneComponent) {\n        SceneComponent = _TabBar.default;\n      }\n\n      if (SceneComponent) {\n        return _react.default.createElement(_reactNative.View, {\n          style: [styles.sceneStyle, navigationState.sceneStyle],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 9\n          }\n        }, _react.default.createElement(SceneComponent, (0, _extends2.default)({}, this.props, navigationState, {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 11\n          }\n        })));\n      }\n\n      var optionals = {};\n      var selected = navigationState.children[navigationState.index];\n      var applyAnimation = selected.applyAnimation || navigationState.applyAnimation;\n      var style = selected.style || navigationState.style;\n\n      if (applyAnimation) {\n        optionals.applyAnimation = applyAnimation;\n      } else {\n        var duration = selected.duration;\n        if (duration === null || duration === undefined) duration = navigationState.duration;\n\n        if (duration !== null && duration !== undefined) {\n          optionals.applyAnimation = function (pos, navState) {\n            if (duration === 0) {\n              pos.setValue(navState.index);\n            } else {\n              _reactNative.Animated.timing(pos, {\n                toValue: navState.index,\n                duration: duration\n              }).start();\n            }\n          };\n        }\n      }\n\n      return _react.default.createElement(NavigationAnimatedView, (0, _extends2.default)({\n        navigationState: navigationState,\n        style: [styles.animatedView, style],\n        renderOverlay: DefaultRenderer.renderHeader,\n        renderScene: DefaultRenderer.renderCard\n      }, optionals, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 7\n        }\n      }));\n    }\n  }], [{\n    key: \"getPanHandlers\",\n    value: function getPanHandlers(direction, props) {\n      return direction === 'vertical' ? NavigationCardStackPanResponder.forVertical(props) : NavigationCardStackPanResponder.forHorizontal(props);\n    }\n  }, {\n    key: \"dispatchFocusAction\",\n    value: function dispatchFocusAction(_ref) {\n      var navigationState = _ref.navigationState;\n\n      if (!navigationState || navigationState.component || navigationState.tabs) {\n        return;\n      }\n\n      var scene = navigationState.children[navigationState.index];\n\n      _Actions.default.focus({\n        scene: scene\n      });\n    }\n  }, {\n    key: \"chooseInterpolator\",\n    value: function chooseInterpolator(direction, props) {\n      switch (direction) {\n        case 'vertical':\n          return NavigationCardStackStyleInterpolator.forVertical(props);\n\n        case 'fade':\n          return fadeInScene(props);\n\n        case 'leftToRight':\n          return leftToRight(props);\n\n        case 'topToBottom':\n          return topToBottom(props);\n\n        default:\n          return NavigationCardStackStyleInterpolator.forHorizontal(props);\n      }\n    }\n  }, {\n    key: \"renderScene\",\n    value: function renderScene(props) {\n      return _react.default.createElement(DefaultRenderer, {\n        key: props.scene.navigationState.key,\n        position: props.position,\n        onNavigate: props.onNavigate,\n        navigationState: props.scene.navigationState,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 7\n        }\n      });\n    }\n  }, {\n    key: \"renderHeader\",\n    value: function renderHeader(props) {\n      var state = props.navigationState;\n      var child = state.children[state.index];\n      var selected = state.children[state.index];\n\n      while ({}.hasOwnProperty.call(selected, 'children')) {\n        selected = selected.children[selected.index];\n      }\n\n      if (child !== selected) {\n        return null;\n      }\n\n      var hideNavBar = (0, _Util.deepestExplicitValueForKey)(state, 'hideNavBar');\n\n      if (hideNavBar) {\n        return null;\n      }\n\n      if (selected.component && selected.component.renderNavigationBar) {\n        return selected.component.renderNavigationBar(_objectSpread({}, props, {}, selected));\n      }\n\n      var HeaderComponent = selected.navBar || child.navBar || state.navBar || _NavBar.default;\n\n      var navBarProps = _objectSpread({}, state, {}, child, {}, selected);\n\n      if (selected.component && selected.component.onRight) {\n        navBarProps.onRight = selected.component.onRight;\n      }\n\n      if (selected.component && selected.component.onLeft) {\n        navBarProps.onLeft = selected.component.onLeft;\n      }\n\n      if ((navBarProps.leftTitle || navBarProps.leftButtonImage) && navBarProps.onLeft) {\n        delete navBarProps.leftButton;\n      }\n\n      if ((navBarProps.rightTitle || navBarProps.rightButtonImage) && navBarProps.onRight) {\n        delete navBarProps.rightButton;\n      }\n\n      if (navBarProps.rightButton) {\n        delete navBarProps.rightTitle;\n        delete navBarProps.onRight;\n        delete navBarProps.rightButtonImage;\n      }\n\n      if (navBarProps.leftButton) {\n        delete navBarProps.leftTitle;\n        delete navBarProps.onLeft;\n        delete navBarProps.leftButtonImage;\n      }\n\n      delete navBarProps.style;\n\n      var getTitle = selected.getTitle || function (opts) {\n        return opts.title;\n      };\n\n      return _react.default.createElement(HeaderComponent, (0, _extends2.default)({}, props, navBarProps, {\n        getTitle: getTitle,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 12\n        }\n      }));\n    }\n  }, {\n    key: \"renderCard\",\n    value: function renderCard(props) {\n      var _props$scene$navigati = props.scene.navigationState,\n          key = _props$scene$navigati.key,\n          direction = _props$scene$navigati.direction,\n          animation = _props$scene$navigati.animation,\n          getSceneStyle = _props$scene$navigati.getSceneStyle;\n      var state = props.navigationState;\n      var child = state.children[state.index];\n      var selected = state.children[state.index];\n\n      while ({}.hasOwnProperty.call(selected, 'children')) {\n        selected = selected.children[selected.index];\n      }\n\n      var _selected = selected,\n          getPanHandlers = _selected.getPanHandlers;\n      var _selected2 = selected,\n          panHandlers = _selected2.panHandlers;\n      var animationStyle = props.scene.navigationState.animationStyle;\n      var isActive = child === selected;\n      var computedProps = {\n        isActive: isActive\n      };\n\n      if (isActive) {\n        computedProps.hideNavBar = (0, _Util.deepestExplicitValueForKey)(props.navigationState, 'hideNavBar');\n        computedProps.hideTabBar = (0, _Util.deepestExplicitValueForKey)(props.navigationState, 'hideTabBar');\n      }\n\n      var style = getSceneStyle ? getSceneStyle(props, computedProps) : null;\n      var animType = animation && !direction ? animation : direction;\n\n      if (typeof animationStyle === 'undefined') {\n        animationStyle = DefaultRenderer.chooseInterpolator(animType, props);\n      }\n\n      if (typeof animationStyle === 'function') {\n        animationStyle = animationStyle(props);\n      }\n\n      if (typeof panHandlers === 'undefined') {\n        panHandlers = getPanHandlers ? getPanHandlers(props, direction) : DefaultRenderer.getPanHandlers(direction, props);\n      }\n\n      return _react.default.createElement(NavigationCard, (0, _extends2.default)({}, props, {\n        key: \"card_\" + key,\n        style: [animationStyle, style],\n        panHandlers: panHandlers,\n        renderScene: DefaultRenderer.renderScene,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 7\n        }\n      }));\n    }\n  }]);\n  return DefaultRenderer;\n}(_react.PureComponent);\n\nexports.default = DefaultRenderer;\nDefaultRenderer.propTypes = {\n  navigationState: _propTypes.default.object.isRequired,\n  onNavigate: _propTypes.default.func.isRequired\n};\nDefaultRenderer.childContextTypes = {\n  navigationState: _propTypes.default.any\n};","map":{"version":3,"sources":["/Users/apple/Documents/janitri/sampleapp/node_modules/react-native-router-flux/src/DefaultRenderer.js"],"names":["SCREEN_WIDTH","Dimensions","get","width","SCREEN_HEIGHT","height","NavigationAnimatedView","NavigationExperimental","AnimatedView","NavigationCard","Card","NavigationCardStackPanResponder","CardStackPanResponder","NavigationCardStackStyleInterpolator","CardStackStyleInterpolator","styles","StyleSheet","create","animatedView","flex","backgroundColor","sceneStyle","fadeInScene","props","position","scene","index","inputRange","opacity","interpolate","outputRange","scale","translateY","translateX","transform","leftToRight","topToBottom","DefaultRenderer","navigationState","dispatchFocusAction","nextProps","onNavigate","console","error","SceneComponent","component","tabs","TabBar","optionals","selected","children","applyAnimation","style","duration","undefined","pos","navState","setValue","Animated","timing","toValue","start","renderHeader","renderCard","direction","forVertical","forHorizontal","Actions","focus","key","state","child","hasOwnProperty","call","hideNavBar","renderNavigationBar","HeaderComponent","navBar","NavBar","navBarProps","onRight","onLeft","leftTitle","leftButtonImage","leftButton","rightTitle","rightButtonImage","rightButton","getTitle","opts","title","animation","getSceneStyle","getPanHandlers","panHandlers","animationStyle","isActive","computedProps","hideTabBar","animType","chooseInterpolator","renderScene","PureComponent","propTypes","PropTypes","object","isRequired","func","childContextTypes","any"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAQA;;AACA;;AACA;;AAMA;;AAEA;;AACA;;AACA;;AACA;;;;;;;;;;;;AAEA,IAAMA,YAAY,GAAGC,wBAAWC,GAAX,CAAe,QAAf,EAAyBC,KAA9C;;AACA,IAAMC,aAAa,GAAGH,wBAAWC,GAAX,CAAe,QAAf,EAAyBG,MAA/C;;IAGgBC,sB,GAEZC,0C,CAFFC,Y;IACMC,c,GACJF,0C,CADFG,I;IAIuBC,+B,GAErBF,c,CAFFG,qB;IAC4BC,oC,GAC1BJ,c,CADFK,0B;;AAGF,IAAMC,MAAM,GAAGC,wBAAWC,MAAX,CAAkB;AAC/BC,EAAAA,YAAY,EAAE;AACZC,IAAAA,IAAI,EAAE,CADM;AAEZC,IAAAA,eAAe,EAAE;AAFL,GADiB;AAK/BC,EAAAA,UAAU,EAAE;AACVF,IAAAA,IAAI,EAAE;AADI;AALmB,CAAlB,CAAf;;AAUA,SAASG,WAAT,CAAwDC,KAAxD,EAA+D;AAAA,MAE3DC,QAF2D,GAIzDD,KAJyD,CAE3DC,QAF2D;AAAA,MAG3DC,KAH2D,GAIzDF,KAJyD,CAG3DE,KAH2D;AAM7D,MAAMC,KAAK,GAAGD,KAAK,CAACC,KAApB;AACA,MAAMC,UAAU,GAAG,CAACD,KAAK,GAAG,CAAT,EAAYA,KAAZ,EAAmBA,KAAK,GAAG,CAA3B,CAAnB;AAEA,MAAME,OAAO,GAAGJ,QAAQ,CAACK,WAAT,CAAqB;AACnCF,IAAAA,UAAU,EAAVA,UADmC;AAEnCG,IAAAA,WAAW,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,GAAP;AAFsB,GAArB,CAAhB;AAKA,MAAMC,KAAK,GAAGP,QAAQ,CAACK,WAAT,CAAqB;AACjCF,IAAAA,UAAU,EAAVA,UADiC;AAEjCG,IAAAA,WAAW,EAAE,CAAC,CAAD,EAAI,CAAJ,EAAO,IAAP;AAFoB,GAArB,CAAd;AAKA,MAAME,UAAU,GAAG,CAAnB;AACA,MAAMC,UAAU,GAAG,CAAnB;AAEA,SAAO;AACLL,IAAAA,OAAO,EAAPA,OADK;AAELM,IAAAA,SAAS,EAAE,CACT;AAAEH,MAAAA,KAAK,EAALA;AAAF,KADS,EAET;AAAEE,MAAAA,UAAU,EAAVA;AAAF,KAFS,EAGT;AAAED,MAAAA,UAAU,EAAVA;AAAF,KAHS;AAFN,GAAP;AAQD;;AAED,SAASG,WAAT,CAAwDZ,KAAxD,EAA+D;AAAA,MAE3DC,QAF2D,GAIzDD,KAJyD,CAE3DC,QAF2D;AAAA,MAG3DC,KAH2D,GAIzDF,KAJyD,CAG3DE,KAH2D;AAM7D,MAAMC,KAAK,GAAGD,KAAK,CAACC,KAApB;AACA,MAAMC,UAAU,GAAG,CAACD,KAAK,GAAG,CAAT,EAAYA,KAAZ,EAAmBA,KAAK,GAAG,CAA3B,CAAnB;AAEA,MAAMO,UAAU,GAAGT,QAAQ,CAACK,WAAT,CAAqB;AACtCF,IAAAA,UAAU,EAAVA,UADsC;AAEtCG,IAAAA,WAAW,EAAE,CAAC,CAAC9B,YAAF,EAAgB,CAAhB,EAAmB,CAAnB;AAFyB,GAArB,CAAnB;AAKA,SAAO;AACLkC,IAAAA,SAAS,EAAE,CACT;AAAED,MAAAA,UAAU,EAAVA;AAAF,KADS;AADN,GAAP;AAKD;;AAED,SAASG,WAAT,CAAwDb,KAAxD,EAA+D;AAAA,MAE3DC,QAF2D,GAIzDD,KAJyD,CAE3DC,QAF2D;AAAA,MAG3DC,KAH2D,GAIzDF,KAJyD,CAG3DE,KAH2D;AAM7D,MAAMC,KAAK,GAAGD,KAAK,CAACC,KAApB;AACA,MAAMC,UAAU,GAAG,CAACD,KAAK,GAAG,CAAT,EAAYA,KAAZ,EAAmBA,KAAK,GAAG,CAA3B,CAAnB;AAEA,MAAMM,UAAU,GAAGR,QAAQ,CAACK,WAAT,CAAqB;AACtCF,IAAAA,UAAU,EAAVA,UADsC;AAEtCG,IAAAA,WAAW,EAAE,CAAC,CAAC1B,aAAD,GAAiB,CAAlB,EAAqB,CAArB,EAAwB,CAAxB;AAFyB,GAArB,CAAnB;AAKA,SAAO;AACL8B,IAAAA,SAAS,EAAE,CACT;AAAEF,MAAAA,UAAU,EAAVA;AAAF,KADS;AADN,GAAP;AAKD;;IAEoBK,e;;;;;;;;;;;;sCAoKD;AAChB,aAAO;AACLC,QAAAA,eAAe,EAAE,KAAKf,KAAL,CAAWe;AADvB,OAAP;AAGD;;;wCAEmB;AAClBD,MAAAA,eAAe,CAACE,mBAAhB,CAAoC,KAAKhB,KAAzC;AACD;;;8CAEyBiB,S,EAAW;AACnC,UAAIA,SAAS,CAACF,eAAV,KAA8B,KAAKf,KAAL,CAAWe,eAA7C,EAA8D;AAC5DD,QAAAA,eAAe,CAACE,mBAAhB,CAAoCC,SAApC;AACD;AACF;;;6BAEQ;AAAA,wBACiC,KAAKjB,KADtC;AAAA,UACCe,eADD,eACCA,eADD;AAAA,UACkBG,UADlB,eACkBA,UADlB;;AAGP,UAAI,CAACH,eAAD,IAAoB,CAACG,UAAzB,EAAqC;AACnCC,QAAAA,OAAO,CAACC,KAAR,CAAc,4DAAd;AACA,eAAO,IAAP;AACD;;AAED,UAAIC,cAAc,GAAGN,eAAe,CAACO,SAArC;;AAEA,UAAIP,eAAe,CAACQ,IAAhB,IAAwB,CAACF,cAA7B,EAA6C;AAC3CA,QAAAA,cAAc,GAAGG,eAAjB;AACD;;AAED,UAAIH,cAAJ,EAAoB;AAClB,eACE,6BAAC,iBAAD;AACE,UAAA,KAAK,EAAE,CAAC7B,MAAM,CAACM,UAAR,EAAoBiB,eAAe,CAACjB,UAApC,CADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAGE,6BAAC,cAAD,6BAAoB,KAAKE,KAAzB,EAAoCe,eAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAHF,CADF;AAOD;;AAED,UAAMU,SAAS,GAAG,EAAlB;AACA,UAAMC,QAAQ,GAAGX,eAAe,CAACY,QAAhB,CAAyBZ,eAAe,CAACZ,KAAzC,CAAjB;AACA,UAAMyB,cAAc,GAAGF,QAAQ,CAACE,cAAT,IAA2Bb,eAAe,CAACa,cAAlE;AACA,UAAMC,KAAK,GAAGH,QAAQ,CAACG,KAAT,IAAkBd,eAAe,CAACc,KAAhD;;AAEA,UAAID,cAAJ,EAAoB;AAClBH,QAAAA,SAAS,CAACG,cAAV,GAA2BA,cAA3B;AACD,OAFD,MAEO;AACL,YAAIE,QAAQ,GAAGJ,QAAQ,CAACI,QAAxB;AACA,YAAIA,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAKC,SAAtC,EAAiDD,QAAQ,GAAGf,eAAe,CAACe,QAA3B;;AACjD,YAAIA,QAAQ,KAAK,IAAb,IAAqBA,QAAQ,KAAKC,SAAtC,EAAiD;AAC/CN,UAAAA,SAAS,CAACG,cAAV,GAA2B,UAACI,GAAD,EAAMC,QAAN,EAAmB;AAC5C,gBAAIH,QAAQ,KAAK,CAAjB,EAAoB;AAClBE,cAAAA,GAAG,CAACE,QAAJ,CAAaD,QAAQ,CAAC9B,KAAtB;AACD,aAFD,MAEO;AACLgC,oCAASC,MAAT,CAAgBJ,GAAhB,EAAqB;AAAEK,gBAAAA,OAAO,EAAEJ,QAAQ,CAAC9B,KAApB;AAA2B2B,gBAAAA,QAAQ,EAARA;AAA3B,eAArB,EAA4DQ,KAA5D;AACD;AACF,WAND;AAOD;AACF;;AAID,aACE,6BAAC,sBAAD;AACE,QAAA,eAAe,EAAEvB,eADnB;AAEE,QAAA,KAAK,EAAE,CAACvB,MAAM,CAACG,YAAR,EAAsBkC,KAAtB,CAFT;AAGE,QAAA,aAAa,EAAEf,eAAe,CAACyB,YAHjC;AAIE,QAAA,WAAW,EAAEzB,eAAe,CAAC0B;AAJ/B,SAKMf,SALN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AASD;;;mCAjOqBgB,S,EAAWzC,K,EAAO;AACtC,aAAOyC,SAAS,KAAK,UAAd,GACLrD,+BAA+B,CAACsD,WAAhC,CAA4C1C,KAA5C,CADK,GAELZ,+BAA+B,CAACuD,aAAhC,CAA8C3C,KAA9C,CAFF;AAGD;;;8CAE+C;AAAA,UAAnBe,eAAmB,QAAnBA,eAAmB;;AAC9C,UAAI,CAACA,eAAD,IAAoBA,eAAe,CAACO,SAApC,IAAiDP,eAAe,CAACQ,IAArE,EAA2E;AACzE;AACD;;AACD,UAAMrB,KAAK,GAAGa,eAAe,CAACY,QAAhB,CAAyBZ,eAAe,CAACZ,KAAzC,CAAd;;AACAyC,uBAAQC,KAAR,CAAc;AAAE3C,QAAAA,KAAK,EAALA;AAAF,OAAd;AACD;;;uCAEyBuC,S,EAAWzC,K,EAAO;AAC1C,cAAQyC,SAAR;AACE,aAAK,UAAL;AACE,iBAAOnD,oCAAoC,CAACoD,WAArC,CAAiD1C,KAAjD,CAAP;;AACF,aAAK,MAAL;AACE,iBAAOD,WAAW,CAACC,KAAD,CAAlB;;AACF,aAAK,aAAL;AACE,iBAAOY,WAAW,CAACZ,KAAD,CAAlB;;AACF,aAAK,aAAL;AACE,iBAAOa,WAAW,CAACb,KAAD,CAAlB;;AACF;AACE,iBAAOV,oCAAoC,CAACqD,aAArC,CAAmD3C,KAAnD,CAAP;AAVJ;AAYD;;;gCAEqDA,K,EAAO;AAC3D,aACE,6BAAC,eAAD;AACE,QAAA,GAAG,EAAEA,KAAK,CAACE,KAAN,CAAYa,eAAZ,CAA4B+B,GADnC;AAEE,QAAA,QAAQ,EAAE9C,KAAK,CAACC,QAFlB;AAGE,QAAA,UAAU,EAAED,KAAK,CAACkB,UAHpB;AAIE,QAAA,eAAe,EAAElB,KAAK,CAACE,KAAN,CAAYa,eAJ/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF;AAQD;;;iCAEsDf,K,EAAO;AAC5D,UAAM+C,KAAK,GAAG/C,KAAK,CAACe,eAApB;AACA,UAAMiC,KAAK,GAAGD,KAAK,CAACpB,QAAN,CAAeoB,KAAK,CAAC5C,KAArB,CAAd;AACA,UAAIuB,QAAQ,GAAGqB,KAAK,CAACpB,QAAN,CAAeoB,KAAK,CAAC5C,KAArB,CAAf;;AACA,aAAO,GAAG8C,cAAH,CAAkBC,IAAlB,CAAuBxB,QAAvB,EAAiC,UAAjC,CAAP,EAAqD;AACnDA,QAAAA,QAAQ,GAAGA,QAAQ,CAACC,QAAT,CAAkBD,QAAQ,CAACvB,KAA3B,CAAX;AACD;;AACD,UAAI6C,KAAK,KAAKtB,QAAd,EAAwB;AAEtB,eAAO,IAAP;AACD;;AACD,UAAMyB,UAAU,GAAG,sCAA2BJ,KAA3B,EAAkC,YAAlC,CAAnB;;AACA,UAAII,UAAJ,EAAgB;AAEd,eAAO,IAAP;AACD;;AAID,UAAIzB,QAAQ,CAACJ,SAAT,IAAsBI,QAAQ,CAACJ,SAAT,CAAmB8B,mBAA7C,EAAkE;AAChE,eAAO1B,QAAQ,CAACJ,SAAT,CAAmB8B,mBAAnB,mBAA4CpD,KAA5C,MAAsD0B,QAAtD,EAAP;AACD;;AAED,UAAM2B,eAAe,GAAG3B,QAAQ,CAAC4B,MAAT,IAAmBN,KAAK,CAACM,MAAzB,IAAmCP,KAAK,CAACO,MAAzC,IAAmDC,eAA3E;;AACA,UAAMC,WAAW,qBAAQT,KAAR,MAAkBC,KAAlB,MAA4BtB,QAA5B,CAAjB;;AAEA,UAAIA,QAAQ,CAACJ,SAAT,IAAsBI,QAAQ,CAACJ,SAAT,CAAmBmC,OAA7C,EAAsD;AACpDD,QAAAA,WAAW,CAACC,OAAZ,GAAsB/B,QAAQ,CAACJ,SAAT,CAAmBmC,OAAzC;AACD;;AAED,UAAI/B,QAAQ,CAACJ,SAAT,IAAsBI,QAAQ,CAACJ,SAAT,CAAmBoC,MAA7C,EAAqD;AACnDF,QAAAA,WAAW,CAACE,MAAZ,GAAqBhC,QAAQ,CAACJ,SAAT,CAAmBoC,MAAxC;AACD;;AAED,UAAI,CAACF,WAAW,CAACG,SAAZ,IAAyBH,WAAW,CAACI,eAAtC,KAA0DJ,WAAW,CAACE,MAA1E,EAAkF;AAChF,eAAOF,WAAW,CAACK,UAAnB;AACD;;AAED,UAAI,CAACL,WAAW,CAACM,UAAZ,IAA0BN,WAAW,CAACO,gBAAvC,KAA4DP,WAAW,CAACC,OAA5E,EAAqF;AACnF,eAAOD,WAAW,CAACQ,WAAnB;AACD;;AAED,UAAIR,WAAW,CAACQ,WAAhB,EAA6B;AAC3B,eAAOR,WAAW,CAACM,UAAnB;AACA,eAAON,WAAW,CAACC,OAAnB;AACA,eAAOD,WAAW,CAACO,gBAAnB;AACD;;AAED,UAAIP,WAAW,CAACK,UAAhB,EAA4B;AAC1B,eAAOL,WAAW,CAACG,SAAnB;AACA,eAAOH,WAAW,CAACE,MAAnB;AACA,eAAOF,WAAW,CAACI,eAAnB;AACD;;AACD,aAAOJ,WAAW,CAAC3B,KAAnB;;AAEA,UAAMoC,QAAQ,GAAGvC,QAAQ,CAACuC,QAAT,IAAsB,UAAAC,IAAI;AAAA,eAAIA,IAAI,CAACC,KAAT;AAAA,OAA3C;;AACA,aAAO,6BAAC,eAAD,6BAAqBnE,KAArB,EAAgCwD,WAAhC;AAA6C,QAAA,QAAQ,EAAES,QAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;;;+BAEoDjE,K,EAAO;AAAA,kCAKtDA,KAAK,CAACE,KAAN,CAAYa,eAL0C;AAAA,UAClD+B,GADkD,yBAClDA,GADkD;AAAA,UAExDL,SAFwD,yBAExDA,SAFwD;AAAA,UAGxD2B,SAHwD,yBAGxDA,SAHwD;AAAA,UAIxDC,aAJwD,yBAIxDA,aAJwD;AAO1D,UAAMtB,KAAK,GAAG/C,KAAK,CAACe,eAApB;AACA,UAAMiC,KAAK,GAAGD,KAAK,CAACpB,QAAN,CAAeoB,KAAK,CAAC5C,KAArB,CAAd;AACA,UAAIuB,QAAQ,GAAGqB,KAAK,CAACpB,QAAN,CAAeoB,KAAK,CAAC5C,KAArB,CAAf;;AACA,aAAO,GAAG8C,cAAH,CAAkBC,IAAlB,CAAuBxB,QAAvB,EAAiC,UAAjC,CAAP,EAAqD;AACnDA,QAAAA,QAAQ,GAAGA,QAAQ,CAACC,QAAT,CAAkBD,QAAQ,CAACvB,KAA3B,CAAX;AACD;;AAZyD,sBAc/BuB,QAd+B;AAAA,UAclD4C,cAdkD,aAclDA,cAdkD;AAAA,uBAepC5C,QAfoC;AAAA,UAepD6C,WAfoD,cAepDA,WAfoD;AAAA,UAgBpDC,cAhBoD,GAgBjCxE,KAAK,CAACE,KAAN,CAAYa,eAhBqB,CAgBpDyD,cAhBoD;AAkB1D,UAAMC,QAAQ,GAAGzB,KAAK,KAAKtB,QAA3B;AACA,UAAMgD,aAAa,GAAG;AAAED,QAAAA,QAAQ,EAARA;AAAF,OAAtB;;AACA,UAAIA,QAAJ,EAAc;AACZC,QAAAA,aAAa,CAACvB,UAAd,GAA2B,sCAA2BnD,KAAK,CAACe,eAAjC,EAAkD,YAAlD,CAA3B;AACA2D,QAAAA,aAAa,CAACC,UAAd,GAA2B,sCAA2B3E,KAAK,CAACe,eAAjC,EAAkD,YAAlD,CAA3B;AACD;;AAED,UAAMc,KAAK,GAAGwC,aAAa,GAAGA,aAAa,CAACrE,KAAD,EAAQ0E,aAAR,CAAhB,GAAyC,IAApE;AAGA,UAAME,QAAQ,GAAIR,SAAS,IAAI,CAAC3B,SAAf,GAA4B2B,SAA5B,GAAwC3B,SAAzD;;AAEA,UAAI,OAAQ+B,cAAR,KAA4B,WAAhC,EAA6C;AAC3CA,QAAAA,cAAc,GAAG1D,eAAe,CAAC+D,kBAAhB,CAAmCD,QAAnC,EAA6C5E,KAA7C,CAAjB;AACD;;AAED,UAAI,OAAQwE,cAAR,KAA4B,UAAhC,EAA4C;AAC1CA,QAAAA,cAAc,GAAGA,cAAc,CAACxE,KAAD,CAA/B;AACD;;AAED,UAAI,OAAQuE,WAAR,KAAyB,WAA7B,EAA0C;AACxCA,QAAAA,WAAW,GAAGD,cAAc,GAC1BA,cAAc,CAACtE,KAAD,EAAQyC,SAAR,CADY,GAE1B3B,eAAe,CAACwD,cAAhB,CAA+B7B,SAA/B,EAA0CzC,KAA1C,CAFF;AAGD;;AACD,aACE,6BAAC,cAAD,6BACMA,KADN;AAEE,QAAA,GAAG,YAAU8C,GAFf;AAGE,QAAA,KAAK,EAAE,CAAC0B,cAAD,EAAiB3C,KAAjB,CAHT;AAIE,QAAA,WAAW,EAAE0C,WAJf;AAKE,QAAA,WAAW,EAAEzD,eAAe,CAACgE,WAL/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SADF;AASD;;;EAlK0CC,oB;;;AAAxBjE,e,CAEZkE,S,GAAY;AACjBjE,EAAAA,eAAe,EAAEkE,mBAAUC,MAAV,CAAiBC,UADjB;AAEjBjE,EAAAA,UAAU,EAAE+D,mBAAUG,IAAV,CAAeD;AAFV,C;AAFArE,e,CAOZuE,iB,GAAoB;AACzBtE,EAAAA,eAAe,EAAEkE,mBAAUK;AADF,C","sourcesContent":["/**\n * Copyright (c) 2015-present, Pavel Aksonov\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree.\n *\n */\nimport React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Animated,\n  View,\n  StyleSheet,\n  Dimensions,\n} from 'react-native';\nimport NavigationExperimental from 'react-native-experimental-navigation';\n\nimport TabBar from './TabBar';\nimport NavBar from './NavBar';\nimport Actions from './Actions';\nimport { deepestExplicitValueForKey } from './Util';\n\nconst SCREEN_WIDTH = Dimensions.get('window').width;\nconst SCREEN_HEIGHT = Dimensions.get('window').height;\n\nconst {\n  AnimatedView: NavigationAnimatedView,\n  Card: NavigationCard,\n} = NavigationExperimental;\n\nconst {\n  CardStackPanResponder: NavigationCardStackPanResponder,\n  CardStackStyleInterpolator: NavigationCardStackStyleInterpolator,\n} = NavigationCard;\n\nconst styles = StyleSheet.create({\n  animatedView: {\n    flex: 1,\n    backgroundColor: 'transparent',\n  },\n  sceneStyle: {\n    flex: 1,\n  },\n});\n\nfunction fadeInScene(/* NavigationSceneRendererProps */ props) {\n  const {\n    position,\n    scene,\n  } = props;\n\n  const index = scene.index;\n  const inputRange = [index - 1, index, index + 1];\n\n  const opacity = position.interpolate({\n    inputRange,\n    outputRange: [0, 1, 0.3],\n  });\n\n  const scale = position.interpolate({\n    inputRange,\n    outputRange: [1, 1, 0.95],\n  });\n\n  const translateY = 0;\n  const translateX = 0;\n\n  return {\n    opacity,\n    transform: [\n      { scale },\n      { translateX },\n      { translateY },\n    ],\n  };\n}\n\nfunction leftToRight(/* NavigationSceneRendererProps */ props) {\n  const {\n    position,\n    scene,\n  } = props;\n\n  const index = scene.index;\n  const inputRange = [index - 1, index, index + 1];\n\n  const translateX = position.interpolate({\n    inputRange,\n    outputRange: [-SCREEN_WIDTH, 0, 0],\n  });\n\n  return {\n    transform: [\n      { translateX },\n    ],\n  };\n}\n\nfunction topToBottom(/* NavigationSceneRendererProps */ props) {\n  const {\n    position,\n    scene,\n  } = props;\n\n  const index = scene.index;\n  const inputRange = [index - 1, index, index + 1];\n\n  const translateY = position.interpolate({\n    inputRange,\n    outputRange: [-SCREEN_HEIGHT * 3, 0, 0],\n  });\n\n  return {\n    transform: [\n      { translateY },\n    ],\n  };\n}\n\nexport default class DefaultRenderer extends PureComponent {\n\n  static propTypes = {\n    navigationState: PropTypes.object.isRequired,\n    onNavigate: PropTypes.func.isRequired,\n  };\n\n  static childContextTypes = {\n    navigationState: PropTypes.any,\n  };\n\n  static getPanHandlers(direction, props) {\n    return direction === 'vertical' ?\n      NavigationCardStackPanResponder.forVertical(props) :\n      NavigationCardStackPanResponder.forHorizontal(props);\n  }\n\n  static dispatchFocusAction({ navigationState }) {\n    if (!navigationState || navigationState.component || navigationState.tabs) {\n      return;\n    }\n    const scene = navigationState.children[navigationState.index];\n    Actions.focus({ scene });\n  }\n\n  static chooseInterpolator(direction, props) {\n    switch (direction) {\n      case 'vertical':\n        return NavigationCardStackStyleInterpolator.forVertical(props);\n      case 'fade':\n        return fadeInScene(props);\n      case 'leftToRight':\n        return leftToRight(props);\n      case 'topToBottom':\n        return topToBottom(props);\n      default:\n        return NavigationCardStackStyleInterpolator.forHorizontal(props);\n    }\n  }\n\n  static renderScene(/* NavigationSceneRendererProps */ props) {\n    return (\n      <DefaultRenderer\n        key={props.scene.navigationState.key}\n        position={props.position}\n        onNavigate={props.onNavigate}\n        navigationState={props.scene.navigationState}\n      />\n    );\n  }\n\n  static renderHeader(/* NavigationSceneRendererProps */ props) {\n    const state = props.navigationState;\n    const child = state.children[state.index];\n    let selected = state.children[state.index];\n    while ({}.hasOwnProperty.call(selected, 'children')) {\n      selected = selected.children[selected.index];\n    }\n    if (child !== selected) {\n      // console.log(`SKIPPING renderHeader because ${child.key} !== ${selected.key}`);\n      return null;\n    }\n    const hideNavBar = deepestExplicitValueForKey(state, 'hideNavBar');\n    if (hideNavBar) {\n      // console.log(`SKIPPING renderHeader because ${child.key} hideNavBar === true`);\n      return null;\n    }\n\n    // console.log(`renderHeader for ${child.key}`);\n\n    if (selected.component && selected.component.renderNavigationBar) {\n      return selected.component.renderNavigationBar({ ...props, ...selected });\n    }\n\n    const HeaderComponent = selected.navBar || child.navBar || state.navBar || NavBar;\n    const navBarProps = { ...state, ...child, ...selected };\n\n    if (selected.component && selected.component.onRight) {\n      navBarProps.onRight = selected.component.onRight;\n    }\n\n    if (selected.component && selected.component.onLeft) {\n      navBarProps.onLeft = selected.component.onLeft;\n    }\n\n    if ((navBarProps.leftTitle || navBarProps.leftButtonImage) && navBarProps.onLeft) {\n      delete navBarProps.leftButton;\n    }\n\n    if ((navBarProps.rightTitle || navBarProps.rightButtonImage) && navBarProps.onRight) {\n      delete navBarProps.rightButton;\n    }\n\n    if (navBarProps.rightButton) {\n      delete navBarProps.rightTitle;\n      delete navBarProps.onRight;\n      delete navBarProps.rightButtonImage;\n    }\n\n    if (navBarProps.leftButton) {\n      delete navBarProps.leftTitle;\n      delete navBarProps.onLeft;\n      delete navBarProps.leftButtonImage;\n    }\n    delete navBarProps.style;\n\n    const getTitle = selected.getTitle || (opts => opts.title);\n    return <HeaderComponent {...props} {...navBarProps} getTitle={getTitle} />;\n  }\n\n  static renderCard(/* NavigationSceneRendererProps */ props) {\n    const { key,\n      direction,\n      animation,\n      getSceneStyle,\n    } = props.scene.navigationState;\n\n    const state = props.navigationState;\n    const child = state.children[state.index];\n    let selected = state.children[state.index];\n    while ({}.hasOwnProperty.call(selected, 'children')) {\n      selected = selected.children[selected.index];\n    }\n\n    const { getPanHandlers } = selected;\n    let { panHandlers } = selected;\n    let { animationStyle } = props.scene.navigationState;\n\n    const isActive = child === selected;\n    const computedProps = { isActive };\n    if (isActive) {\n      computedProps.hideNavBar = deepestExplicitValueForKey(props.navigationState, 'hideNavBar');\n      computedProps.hideTabBar = deepestExplicitValueForKey(props.navigationState, 'hideTabBar');\n    }\n\n    const style = getSceneStyle ? getSceneStyle(props, computedProps) : null;\n\n    // direction overrides animation if both are supplied\n    const animType = (animation && !direction) ? animation : direction;\n\n    if (typeof (animationStyle) === 'undefined') {\n      animationStyle = DefaultRenderer.chooseInterpolator(animType, props);\n    }\n\n    if (typeof (animationStyle) === 'function') {\n      animationStyle = animationStyle(props);\n    }\n\n    if (typeof (panHandlers) === 'undefined') {\n      panHandlers = getPanHandlers ?\n        getPanHandlers(props, direction) :\n        DefaultRenderer.getPanHandlers(direction, props);\n    }\n    return (\n      <NavigationCard\n        {...props}\n        key={`card_${key}`}\n        style={[animationStyle, style]}\n        panHandlers={panHandlers}\n        renderScene={DefaultRenderer.renderScene}\n      />\n    );\n  }\n\n  getChildContext() {\n    return {\n      navigationState: this.props.navigationState,\n    };\n  }\n\n  componentDidMount() {\n    DefaultRenderer.dispatchFocusAction(this.props);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    if (nextProps.navigationState !== this.props.navigationState) {\n      DefaultRenderer.dispatchFocusAction(nextProps);\n    }\n  }\n\n  render() {\n    const { navigationState, onNavigate } = this.props;\n\n    if (!navigationState || !onNavigate) {\n      console.error('navigationState and onNavigate property should be not null');\n      return null;\n    }\n\n    let SceneComponent = navigationState.component;\n\n    if (navigationState.tabs && !SceneComponent) {\n      SceneComponent = TabBar;\n    }\n\n    if (SceneComponent) {\n      return (\n        <View\n          style={[styles.sceneStyle, navigationState.sceneStyle]}\n        >\n          <SceneComponent {...this.props} {...navigationState} />\n        </View>\n      );\n    }\n\n    const optionals = {};\n    const selected = navigationState.children[navigationState.index];\n    const applyAnimation = selected.applyAnimation || navigationState.applyAnimation;\n    const style = selected.style || navigationState.style;\n\n    if (applyAnimation) {\n      optionals.applyAnimation = applyAnimation;\n    } else {\n      let duration = selected.duration;\n      if (duration === null || duration === undefined) duration = navigationState.duration;\n      if (duration !== null && duration !== undefined) {\n        optionals.applyAnimation = (pos, navState) => {\n          if (duration === 0) {\n            pos.setValue(navState.index);\n          } else {\n            Animated.timing(pos, { toValue: navState.index, duration }).start();\n          }\n        };\n      }\n    }\n\n    // console.log(`NavigationAnimatedView for ${navigationState.key}`);\n\n    return (\n      <NavigationAnimatedView\n        navigationState={navigationState}\n        style={[styles.animatedView, style]}\n        renderOverlay={DefaultRenderer.renderHeader}\n        renderScene={DefaultRenderer.renderCard}\n        {...optionals}\n      />\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"script"}